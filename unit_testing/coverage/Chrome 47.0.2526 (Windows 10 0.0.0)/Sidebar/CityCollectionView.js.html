<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for Sidebar\CityCollectionView.js</title>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="../prettify.css"/>
    <link rel="stylesheet" href="../base.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1>
            <a href="../index.html">all files</a> / <a href="index.html">Sidebar/</a> CityCollectionView.js
        </h1>

        <div class='clearfix'>
            <div class='fl pad1y space-right2'>
                <span class="strong">42.05% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>37/88</span>
            </div>
            <div class='fl pad1y space-right2'>
                <span class="strong">7.14% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>2/28</span>
            </div>
            <div class='fl pad1y space-right2'>
                <span class="strong">66.67% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>14/21</span>
            </div>
            <div class='fl pad1y space-right2'>
                <span class="strong">42.05% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>37/88</span>
            </div>
    </div>
    </div>
    <div class='status-line low'></div>
<pre><table class="coverage">
    <tr>
        <td class="line-count quiet">1
            2
            3
            4
            5
            6
            7
            8
            9
            10
            11
            12
            13
            14
            15
            16
            17
            18
            19
            20
            21
            22
            23
            24
            25
            26
            27
            28
            29
            30
            31
            32
            33
            34
            35
            36
            37
            38
            39
            40
            41
            42
            43
            44
            45
            46
            47
            48
            49
            50
            51
            52
            53
            54
            55
            56
            57
            58
            59
            60
            61
            62
            63
            64
            65
            66
            67
            68
            69
            70
            71
            72
            73
            74
            75
            76
            77
            78
            79
            80
            81
            82
            83
            84
            85
            86
            87
            88
            89
            90
            91
            92
            93
            94
            95
            96
            97
            98
            99
            100
            101
            102
            103
            104
            105
            106
            107
            108
            109
            110
            111
            112
            113
            114
            115
            116
            117
            118
            119
            120
            121
            122
            123
            124
            125
            126
            127
            128
            129
            130
            131
            132
            133
            134
            135
            136
            137
            138
            139
            140
            141
            142
            143
            144
            145
            146
            147
            148
            149
            150
            151
            152
            153
            154
            155
            156
            157
            158
            159
            160
            161
            162
            163
            164
            165
            166
            167
            168
            169
            170
            171
            172
            173
            174
            175
            176
            177
            178
            179
            180
            181
            182
            183
            184
            185
            186
            187
            188
            189
            190
            191
            192
            193
            194
            195
            196
            197
            198
            199
            200
            201
            202
            203
            204
            205
            206
            207
            208
            209
            210
            211
            212
            213
            214
            215
            216
            217
            218
            219
            220
            221
            222
            223
            224
            225
            226
            227
            228
            229
            230
            231
            232
            233
            234
            235
            236
            237
            238
            239
            240
            241
            242
            243
            244
            245
            246
            247
            248
            249
            250
            251
            252
            253
            254
            255
            256
            257
            258
            259
            260
            261
            262
        </td>
        <td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">2Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-yes">2Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">2Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-yes">2Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-no">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-yes">1Г—</span>
            <span class="cline-any cline-neutral">&nbsp;</span>
            <span class="cline-any cline-neutral">&nbsp;</span></td>
        <td class="text"><pre class="prettyprint lang-js">/**
 * Created by Minh on 1/7/2016.
 */
/*jslint nomen:true*/
define(["lodash",
        "jquery",
        "utils",
        "text!cityViewTmpl"],
    function (_, $, utils, cityViewTmpl) {
        "use strict";
&nbsp;
        var CityCollectionView = function () {
&nbsp;
            _.extend(this, {
                $menuBtn: $("#btn-menu"),
&nbsp;
                $menu: $("#menu"),
&nbsp;
                $upperMenu: $("#menu--upper"),
&nbsp;
                $addBtn: $("#btn-add"),
&nbsp;
                $deleteBtn: $("#btn-delete"),
&nbsp;
                $listHolder: $("#added-city-list"),
&nbsp;
                cityTemplate: _.template(cityViewTmpl),
&nbsp;
                itemNamespace: "#sb-",
&nbsp;
                adding: false,
&nbsp;
                deleting: false,
&nbsp;
                selected: []
            });
        };
&nbsp;
        CityCollectionView.prototype = {
&nbsp;
            constructor: CityCollectionView,
&nbsp;
            render: function (model, settings) {
                var self = this,
                    modelCopy = _.clone(model, true);
&nbsp;
                _.extend(modelCopy, settings);
&nbsp;
                _.extend(modelCopy, {
                    convertToF: utils.lodashHelper.convertToF
                });
&nbsp;
                return self.cityTemplate(modelCopy);
            },
            /**
             *
             * @param model
             * @param settings
             */
            addOne: function (model, settings) {
                var self = this;
&nbsp;
                $(self.render(model, settings)).hide().appendTo(self.$listHolder).fadeIn(500);
                //self.$listHolder.append(self.cityTemplate(model));
            },
&nbsp;
            /**
             *
             * @param collection
             * @param settings
             */
            addAll: function (collection, settings) {
                var self = this,
                    html = [];
&nbsp;
&nbsp;
                _.each(collection, function (model) {
                    html.push(self.render(model, settings));
                });
&nbsp;
                self.$listHolder.html(html.join(""));
            },
&nbsp;
            update: function (cityModel, settings) {
                var self = this;
&nbsp;
                $(self.itemNamespace + cityModel.uid)
                    .html($(self.render(cityModel, settings)).html());
            },
&nbsp;
            /**
             * add selected cities into view own array
             */
            getSelected: function () {
                var self = this;
&nbsp;
                self.selected = [];
&nbsp;
                _.each(self.$listHolder.find(":checked"), function (el) {
&nbsp;
                    self.selected.push($(el).val());
&nbsp;
                });
            },
&nbsp;
            removeSelected: function () {
                var self = this;
&nbsp;
                _.each(self.selected, function (uid) {
                    $(self.itemNamespace + uid).remove();
                });
            },
&nbsp;
            /**
             * toggle Button style corresponding to flag
             */
            toggleBtnStyle: function () {
                var self = this;
                self.$addBtn.toggleClass("selecting", self.adding);
                self.$deleteBtn.toggleClass("selecting", self.deleting);
                <span class="missing-if-branch" title="if path not taken">I</span>if (self.adding) {
&nbsp;
<span class="cstat-no" title="statement not covered">                    self.$deleteBtn.toggleClass("has-selected", !!self.selected.length);</span>
&nbsp;
                } else <span class="missing-if-branch" title="if path not taken">I</span>if (self.deleting) {
&nbsp;
<span class="cstat-no" title="statement not covered">                    self.$addBtn.toggleClass("has-selected", !!self.selected.length);</span>
&nbsp;
                } else {
&nbsp;
                    self.$deleteBtn.toggleClass("has-selected", !!self.selected.length);
                    self.$addBtn.toggleClass("has-selected", !!self.selected.length);
&nbsp;
                }
            },
&nbsp;
            /**
             * toggle menu style corresponding to flag
             */
&nbsp;
            toggleMenuStyle: function () {
                var self = this;
&nbsp;
                self.$menu.toggleClass("menu--suggest", self.adding);
                self.$menu.toggleClass("menu--delete", self.deleting);
            },
&nbsp;
            /**
             * undo selecting cities
             */
            resetSelected: function () {
                var self = this;
&nbsp;
                self.selected = [];
                _.each(self.$listHolder.find("input[type='checkbox']"), <span class="fstat-no"
                                                                              title="function not covered">function (el) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered">                    $(el).attr("checked", false);</span>
&nbsp;
                });
            },
&nbsp;
            initialize: <span class="fstat-no" title="function not covered">function () {</span>
<span class="cstat-no" title="statement not covered">                var self = this;</span>
&nbsp;
<span class="cstat-no" title="statement not covered">                self.$menuBtn.on("click", <span class="fstat-no"
                                                                                                     title="function not covered">function (e) {</span></span>
&nbsp;
<span class="cstat-no" title="statement not covered">                    e.preventDefault();</span>
<span class="cstat-no" title="statement not covered">                    self.$menu.toggleClass("menu--open");</span>
&nbsp;
                });
&nbsp;
<span class="cstat-no" title="statement not covered">                self.$addBtn.on("click", <span class="fstat-no"
                                                                                                    title="function not covered">function () {</span></span>
<span class="cstat-no"
      title="statement not covered">                    if (!self.adding &amp;&amp; !self.deleting) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered">                        self.adding = true;</span>
<span class="cstat-no"
      title="statement not covered">                        utils.EventBus.trigger("addCityMode:on");</span>
&nbsp;
                    } else <span class="cstat-no" title="statement not covered">if (self.deleting) { //if deleting, click on addBtn will confirm selection</span>
&nbsp;
<span class="cstat-no" title="statement not covered">                        self.deleting = false;</span>
&nbsp;
<span class="cstat-no" title="statement not covered">                        if (self.selected.length) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered">                            self.getSelected();</span>
<span class="cstat-no" title="statement not covered">                            self.removeSelected();</span>
<span class="cstat-no" title="statement not covered">                            utils.EventBus.trigger("cityCollectionView:remove", self.selected);</span>
<span class="cstat-no" title="statement not covered">                            self.resetSelected();</span>
&nbsp;
                        } else {
&nbsp;
<span class="cstat-no" title="statement not covered">                            self.adding = true;</span>
<span class="cstat-no" title="statement not covered">                            utils.EventBus.trigger("addCityMode:on");</span>
&nbsp;
                        }
                    } else <span class="cstat-no" title="statement not covered">if (self.adding) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered">                        self.adding = false;</span>
<span class="cstat-no" title="statement not covered">                        self.resetSelected();</span>
<span class="cstat-no"
      title="statement not covered">                        utils.EventBus.trigger("addCityMode:off");</span>
&nbsp;
                    }
<span class="cstat-no" title="statement not covered">                    self.toggleMenuStyle();</span>
<span class="cstat-no" title="statement not covered">                    self.toggleBtnStyle();</span>
                });
&nbsp;
<span class="cstat-no" title="statement not covered">                self.$deleteBtn.on("click", <span class="fstat-no"
                                                                                                       title="function not covered">function () {</span></span>
&nbsp;
<span class="cstat-no"
      title="statement not covered">                    if (!self.adding &amp;&amp; !self.deleting) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered">                        self.deleting = true;</span>
&nbsp;
                    } else <span class="cstat-no" title="statement not covered">if (self.deleting) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered">                        self.deleting = false;</span>
<span class="cstat-no" title="statement not covered">                        self.resetSelected();</span>
&nbsp;
                    } else <span class="cstat-no" title="statement not covered">if (self.adding) { //if adding, click on deleteBtn will confirm selection</span>
&nbsp;
<span class="cstat-no" title="statement not covered">                        self.adding = false;</span>
<span class="cstat-no"
      title="statement not covered">                        utils.EventBus.trigger("addCityMode:off");</span>
&nbsp;
<span class="cstat-no" title="statement not covered">                        if (self.selected.length) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered">                            utils.EventBus.trigger("cityCollectionView:add", self.selected);</span>
<span class="cstat-no" title="statement not covered">                            self.resetSelected();</span>
&nbsp;
                        } else {
&nbsp;
<span class="cstat-no" title="statement not covered">                            self.deleting = true;</span>
&nbsp;
                        }
                    }
<span class="cstat-no" title="statement not covered">                    self.toggleMenuStyle();</span>
<span class="cstat-no" title="statement not covered">                    self.toggleBtnStyle();</span>
                });
&nbsp;
<span class="cstat-no" title="statement not covered">                self.$listHolder.on("click", ".added-cities__item", <span
        class="fstat-no" title="function not covered">function (event) {</span></span>
<span class="cstat-no"
      title="statement not covered">                    var cityUid = $(this).attr("id").slice(3);</span>
&nbsp;
<span class="cstat-no" title="statement not covered">                    if (!self.deleting) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered">                        utils.EventBus.trigger("cityCollectionViewItem:click", cityUid);</span>
&nbsp;
                    } else <span class="cstat-no" title="statement not covered">if ($(this).is(event.target)) {</span>
&nbsp;
<span class="cstat-no" title="statement not covered">                        $(this).find("input").click();</span>
&nbsp;
                    }
                });
&nbsp;
<span class="cstat-no" title="statement not covered">                self.$listHolder.on("click", ".added-cities__item-checkbox", <span
        class="fstat-no" title="function not covered">function () {</span></span>
<span class="cstat-no" title="statement not covered">                    self.getSelected();</span>
<span class="cstat-no" title="statement not covered">                    self.toggleBtnStyle();</span>
                });
&nbsp;
<span class="cstat-no" title="statement not covered">                self.$upperMenu.perfectScrollbar();</span>
            }
        };
&nbsp;
        return CityCollectionView;
    })
;</pre>
        </td>
    </tr>
</table></pre>
    <div class='push'></div>
    <!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
    Code coverage
    generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Sat Jan 16 2016 21:40:20 GMT+0200
    (FLE Standard Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
    window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
    };
</script>
<script src="../sorter.js"></script>
</body>
</html>
